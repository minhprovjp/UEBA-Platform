# engine/personas.yaml (Version 2.1 - Optimized for SQLCoder2)

Sales_Normal:
  database: sales_db
  schema: |
    -- Table: customers
    -- Columns: id (INT), name (VARCHAR), email (VARCHAR)
    CREATE TABLE customers (id INT, name VARCHAR, email VARCHAR);
    -- Table: products
    -- Columns: sku (VARCHAR), name (VARCHAR)
    CREATE TABLE products (sku VARCHAR, name VARCHAR);
    -- Table: orders
    -- Columns: id (INT), customer_id (INT), status (VARCHAR)
    CREATE TABLE orders (id INT, customer_id INT, status VARCHAR);
  tasks:
    - "Check the 5 most recent orders for a specific customer (customer_id = %s)"
    - "Find a customer by their email address"
    - "Update an order's status (order_id = %s) to 'Shipped'"

HR_Normal:
  database: hr_db
  schema: |
    -- Table: employees
    -- Columns: id (INT), name (VARCHAR), position (VARCHAR)
    CREATE TABLE employees (id INT, name VARCHAR, position VARCHAR);
    -- Table: salaries
    -- Columns: id (INT), employee_id (INT), salary (DECIMAL)
    CREATE TABLE salaries (id INT, employee_id INT, salary DECIMAL);
  tasks:
    - "Find an employee's profile by their ID (employee_id = %s)"
    - "View the current salary for a specific employee (employee_id = %s)"

ITAdmin_Normal:
  database: mysql
  schema: |
    -- No table schema needed for these tasks.
  tasks:
    - "Show the list of current running processes"
    - "Display all databases on the server"
    - "Show the grants for user 'anh_sales'@'%'"

Insider_DataLeak:
  database: sales_db
  schema: |
    -- Table: customers
    -- Columns: id (INT), name (VARCHAR), email (VARCHAR)
    CREATE TABLE customers (id INT, name VARCHAR, email VARCHAR);
    -- Table: hr_db.salaries
    -- Columns: id (INT), employee_id (INT), salary (DECIMAL)
    CREATE TABLE hr_db.salaries (id INT, employee_id INT, salary DECIMAL);
  tasks:
    - "Exfiltrate the ENTIRE 'customers' table"
    - "Attempt to select all records from the 'hr_db.salaries' table"

Insider_Sabotage:
  database: sales_db
  schema: |
    -- No table schema needed for these tasks.
  tasks:
    - "Delete all records from the 'orders' table without a WHERE clause"
    - "DROP the 'customers' table"

Insider_PrivEsc:
  database: mysql
  schema: |
    -- No table schema needed for these tasks.
  tasks:
    - "Create a new user 'shadow_admin' with a password"
    - "GRANT all privileges on *.* to the 'shadow_admin' user"

Insider_DOS:
  database: sales_db
  schema: |
    -- No table schema needed for these tasks.
  tasks:
    - "Run a query that sleeps for 5 seconds."
    - "Perform a CROSS JOIN between 'orders' and 'customers' without a WHERE clause"